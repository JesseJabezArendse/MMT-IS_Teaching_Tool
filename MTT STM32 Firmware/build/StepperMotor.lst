ARM GAS  C:\Temp\cc3V15en.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"StepperMotor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/StepperMotor.c"
  20              		.section	.text.unlockStepper,"ax",%progbits
  21              		.align	1
  22              		.global	unlockStepper
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	unlockStepper:
  28              	.LFB236:
   1:Core/Src/StepperMotor.c **** //********************************************************************
   2:Core/Src/StepperMotor.c **** //*                      Mech Educational Board                      *
   3:Core/Src/StepperMotor.c **** //*                     Current Monitors Library                     *
   4:Core/Src/StepperMotor.c **** //*==================================================================*
   5:Core/Src/StepperMotor.c **** //* @author:    Jesse Jabez Arendse                                  *
   6:Core/Src/StepperMotor.c **** //* @date:      06-11-2023                                           *
   7:Core/Src/StepperMotor.c **** //*==================================================================*
   8:Core/Src/StepperMotor.c **** 
   9:Core/Src/StepperMotor.c **** #include "main.h"
  10:Core/Src/StepperMotor.c **** #include "StepperMotor.h"
  11:Core/Src/StepperMotor.c **** 
  12:Core/Src/StepperMotor.c **** extern TIM_HandleTypeDef htim4;
  13:Core/Src/StepperMotor.c **** 
  14:Core/Src/StepperMotor.c **** uint8_t stepperIndex = 0;
  15:Core/Src/StepperMotor.c **** uint8_t tempARR = 0;
  16:Core/Src/StepperMotor.c **** short withLEDs = 0;
  17:Core/Src/StepperMotor.c **** 
  18:Core/Src/StepperMotor.c **** int fullRevolution = 4096;
  19:Core/Src/StepperMotor.c **** 
  20:Core/Src/StepperMotor.c **** void setStepperSpeed(int16_t millirRPM){
  21:Core/Src/StepperMotor.c ****     if (millirRPM == 0){
  22:Core/Src/StepperMotor.c ****         HAL_TIM_Base_Stop_IT(&htim4);
  23:Core/Src/StepperMotor.c ****         unlockStepper();
  24:Core/Src/StepperMotor.c ****     }
  25:Core/Src/StepperMotor.c ****     else if (millirRPM >= 8400){
  26:Core/Src/StepperMotor.c ****         millirRPM = 8400;
  27:Core/Src/StepperMotor.c ****     }
  28:Core/Src/StepperMotor.c **** 
  29:Core/Src/StepperMotor.c ****     tempARR = 84000000/fullRevolution; 
  30:Core/Src/StepperMotor.c ****     TIM4->ARR = tempARR*1000/millirRPM;
ARM GAS  C:\Temp\cc3V15en.s 			page 2


  31:Core/Src/StepperMotor.c **** 
  32:Core/Src/StepperMotor.c **** 
  33:Core/Src/StepperMotor.c **** }
  34:Core/Src/StepperMotor.c **** 
  35:Core/Src/StepperMotor.c **** void unlockStepper(){
  29              		.loc 1 35 21 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 4, -8
  36              		.cfi_offset 14, -4
  36:Core/Src/StepperMotor.c ****     HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,0);
  37              		.loc 1 36 5 view .LVU1
  38 0002 0D4C     		ldr	r4, .L3
  39 0004 0022     		movs	r2, #0
  40 0006 4FF48051 		mov	r1, #4096
  41 000a 2046     		mov	r0, r4
  42 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
  43              	.LVL0:
  37:Core/Src/StepperMotor.c ****     HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,0);
  44              		.loc 1 37 5 view .LVU2
  45 0010 0022     		movs	r2, #0
  46 0012 4FF48041 		mov	r1, #16384
  47 0016 2046     		mov	r0, r4
  48 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
  49              	.LVL1:
  38:Core/Src/StepperMotor.c ****     HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,0);
  50              		.loc 1 38 5 view .LVU3
  51 001c 0022     		movs	r2, #0
  52 001e 4FF40051 		mov	r1, #8192
  53 0022 2046     		mov	r0, r4
  54 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
  55              	.LVL2:
  39:Core/Src/StepperMotor.c ****     HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,0);
  56              		.loc 1 39 5 view .LVU4
  57 0028 0022     		movs	r2, #0
  58 002a 4FF40041 		mov	r1, #32768
  59 002e 2046     		mov	r0, r4
  60 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
  61              	.LVL3:
  40:Core/Src/StepperMotor.c **** }
  62              		.loc 1 40 1 is_stmt 0 view .LVU5
  63 0034 10BD     		pop	{r4, pc}
  64              	.L4:
  65 0036 00BF     		.align	2
  66              	.L3:
  67 0038 000C0240 		.word	1073875968
  68              		.cfi_endproc
  69              	.LFE236:
  71              		.section	.text.setStepperSpeed,"ax",%progbits
  72              		.align	1
  73              		.global	setStepperSpeed
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
ARM GAS  C:\Temp\cc3V15en.s 			page 3


  78              	setStepperSpeed:
  79              	.LVL4:
  80              	.LFB235:
  20:Core/Src/StepperMotor.c ****     if (millirRPM == 0){
  81              		.loc 1 20 40 is_stmt 1 view -0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 0, uses_anonymous_args = 0
  20:Core/Src/StepperMotor.c ****     if (millirRPM == 0){
  85              		.loc 1 20 40 is_stmt 0 view .LVU7
  86 0000 10B5     		push	{r4, lr}
  87              		.cfi_def_cfa_offset 8
  88              		.cfi_offset 4, -8
  89              		.cfi_offset 14, -4
  21:Core/Src/StepperMotor.c ****         HAL_TIM_Base_Stop_IT(&htim4);
  90              		.loc 1 21 5 is_stmt 1 view .LVU8
  21:Core/Src/StepperMotor.c ****         HAL_TIM_Base_Stop_IT(&htim4);
  91              		.loc 1 21 8 is_stmt 0 view .LVU9
  92 0002 0446     		mov	r4, r0
  93 0004 B0B1     		cbz	r0, .L10
  25:Core/Src/StepperMotor.c ****         millirRPM = 8400;
  94              		.loc 1 25 10 is_stmt 1 view .LVU10
  25:Core/Src/StepperMotor.c ****         millirRPM = 8400;
  95              		.loc 1 25 13 is_stmt 0 view .LVU11
  96 0006 42F2CF03 		movw	r3, #8399
  97 000a 9842     		cmp	r0, r3
  98 000c 01DD     		ble	.L7
  26:Core/Src/StepperMotor.c ****     }
  99              		.loc 1 26 19 view .LVU12
 100 000e 42F2D004 		movw	r4, #8400
 101              	.LVL5:
 102              	.L7:
  29:Core/Src/StepperMotor.c ****     TIM4->ARR = tempARR*1000/millirRPM;
 103              		.loc 1 29 5 is_stmt 1 view .LVU13
  29:Core/Src/StepperMotor.c ****     TIM4->ARR = tempARR*1000/millirRPM;
 104              		.loc 1 29 23 is_stmt 0 view .LVU14
 105 0012 0B4B     		ldr	r3, .L11
 106 0014 1A68     		ldr	r2, [r3]
 107 0016 0B4B     		ldr	r3, .L11+4
 108 0018 93FBF2F3 		sdiv	r3, r3, r2
  29:Core/Src/StepperMotor.c ****     TIM4->ARR = tempARR*1000/millirRPM;
 109              		.loc 1 29 13 view .LVU15
 110 001c 0A4A     		ldr	r2, .L11+8
 111 001e 1370     		strb	r3, [r2]
  30:Core/Src/StepperMotor.c **** 
 112              		.loc 1 30 5 is_stmt 1 view .LVU16
  30:Core/Src/StepperMotor.c **** 
 113              		.loc 1 30 24 is_stmt 0 view .LVU17
 114 0020 DBB2     		uxtb	r3, r3
 115 0022 4FF47A72 		mov	r2, #1000
 116 0026 02FB03F3 		mul	r3, r2, r3
  30:Core/Src/StepperMotor.c **** 
 117              		.loc 1 30 29 view .LVU18
 118 002a 93FBF4F3 		sdiv	r3, r3, r4
  30:Core/Src/StepperMotor.c **** 
 119              		.loc 1 30 15 view .LVU19
 120 002e 074A     		ldr	r2, .L11+12
ARM GAS  C:\Temp\cc3V15en.s 			page 4


 121 0030 D362     		str	r3, [r2, #44]
  33:Core/Src/StepperMotor.c **** 
 122              		.loc 1 33 1 view .LVU20
 123 0032 10BD     		pop	{r4, pc}
 124              	.LVL6:
 125              	.L10:
 126              	.LBB2:
  22:Core/Src/StepperMotor.c ****         unlockStepper();
 127              		.loc 1 22 9 is_stmt 1 view .LVU21
 128 0034 0648     		ldr	r0, .L11+16
 129              	.LVL7:
  22:Core/Src/StepperMotor.c ****         unlockStepper();
 130              		.loc 1 22 9 is_stmt 0 view .LVU22
 131 0036 FFF7FEFF 		bl	HAL_TIM_Base_Stop_IT
 132              	.LVL8:
  23:Core/Src/StepperMotor.c ****     }
 133              		.loc 1 23 9 is_stmt 1 view .LVU23
 134 003a FFF7FEFF 		bl	unlockStepper
 135              	.LVL9:
 136              	.LBE2:
 137 003e E8E7     		b	.L7
 138              	.L12:
 139              		.align	2
 140              	.L11:
 141 0040 00000000 		.word	fullRevolution
 142 0044 00BD0105 		.word	84000000
 143 0048 00000000 		.word	tempARR
 144 004c 00080040 		.word	1073743872
 145 0050 00000000 		.word	htim4
 146              		.cfi_endproc
 147              	.LFE235:
 149              		.section	.text.HalfModeSequence,"ax",%progbits
 150              		.align	1
 151              		.global	HalfModeSequence
 152              		.syntax unified
 153              		.thumb
 154              		.thumb_func
 156              	HalfModeSequence:
 157              	.LFB237:
  41:Core/Src/StepperMotor.c **** 
  42:Core/Src/StepperMotor.c **** void HalfModeSequence(void){
 158              		.loc 1 42 28 view -0
 159              		.cfi_startproc
 160              		@ args = 0, pretend = 0, frame = 0
 161              		@ frame_needed = 0, uses_anonymous_args = 0
 162 0000 10B5     		push	{r4, lr}
 163              		.cfi_def_cfa_offset 8
 164              		.cfi_offset 4, -8
 165              		.cfi_offset 14, -4
  43:Core/Src/StepperMotor.c ****     unlockStepper();
 166              		.loc 1 43 5 view .LVU25
 167 0002 FFF7FEFF 		bl	unlockStepper
 168              	.LVL10:
  44:Core/Src/StepperMotor.c ****     switch (stepperIndex)
 169              		.loc 1 44 5 view .LVU26
 170 0006 4C4B     		ldr	r3, .L40
 171 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Temp\cc3V15en.s 			page 5


 172 000a 072B     		cmp	r3, #7
 173 000c 12D8     		bhi	.L14
 174 000e DFE803F0 		tbb	[pc, r3]
 175              	.L16:
 176 0012 04       		.byte	(.L23-.L16)/2
 177 0013 1E       		.byte	(.L22-.L16)/2
 178 0014 25       		.byte	(.L21-.L16)/2
 179 0015 2C       		.byte	(.L20-.L16)/2
 180 0016 33       		.byte	(.L19-.L16)/2
 181 0017 3A       		.byte	(.L18-.L16)/2
 182 0018 41       		.byte	(.L17-.L16)/2
 183 0019 48       		.byte	(.L15-.L16)/2
 184              		.p2align 1
 185              	.L23:
  45:Core/Src/StepperMotor.c ****     {
  46:Core/Src/StepperMotor.c ****     case 0:
  47:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,1);
 186              		.loc 1 47 9 view .LVU27
 187 001a 484C     		ldr	r4, .L40+4
 188 001c 0122     		movs	r2, #1
 189 001e 4FF48051 		mov	r1, #4096
 190 0022 2046     		mov	r0, r4
 191 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 192              	.LVL11:
  48:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,0);
 193              		.loc 1 48 9 view .LVU28
 194 0028 0022     		movs	r2, #0
 195 002a 4FF40041 		mov	r1, #32768
 196 002e 2046     		mov	r0, r4
 197 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 198              	.LVL12:
  49:Core/Src/StepperMotor.c ****         break;
 199              		.loc 1 49 9 view .LVU29
 200              	.L14:
  50:Core/Src/StepperMotor.c ****     case 1:
  51:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,1);
  52:Core/Src/StepperMotor.c ****         break;
  53:Core/Src/StepperMotor.c ****     case 2:
  54:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,0);
  55:Core/Src/StepperMotor.c ****         break;
  56:Core/Src/StepperMotor.c ****     case 3:
  57:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,1);
  58:Core/Src/StepperMotor.c ****         break;
  59:Core/Src/StepperMotor.c ****     case 4:
  60:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,0);
  61:Core/Src/StepperMotor.c ****         break;
  62:Core/Src/StepperMotor.c ****     case 5:
  63:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,1);
  64:Core/Src/StepperMotor.c ****         break;
  65:Core/Src/StepperMotor.c ****     case 6:
  66:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,0);
  67:Core/Src/StepperMotor.c ****         break;
  68:Core/Src/StepperMotor.c ****     case 7:
  69:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,1);
  70:Core/Src/StepperMotor.c ****         break;
  71:Core/Src/StepperMotor.c ****     
  72:Core/Src/StepperMotor.c ****     default:
ARM GAS  C:\Temp\cc3V15en.s 			page 6


  73:Core/Src/StepperMotor.c ****         break;
  74:Core/Src/StepperMotor.c ****     }
  75:Core/Src/StepperMotor.c **** 
  76:Core/Src/StepperMotor.c **** if (withLEDs == 1){
 201              		.loc 1 76 1 view .LVU30
 202              		.loc 1 76 14 is_stmt 0 view .LVU31
 203 0034 424B     		ldr	r3, .L40+8
 204 0036 B3F90030 		ldrsh	r3, [r3]
 205              		.loc 1 76 4 view .LVU32
 206 003a 012B     		cmp	r3, #1
 207 003c 38D0     		beq	.L38
 208              	.L24:
  77:Core/Src/StepperMotor.c ****         switch (stepperIndex)
  78:Core/Src/StepperMotor.c ****     {
  79:Core/Src/StepperMotor.c ****     case 0:
  80:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,1);
  81:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,0);
  82:Core/Src/StepperMotor.c ****         break;
  83:Core/Src/StepperMotor.c ****     case 1:
  84:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,1);
  85:Core/Src/StepperMotor.c ****         break;
  86:Core/Src/StepperMotor.c ****     case 2:
  87:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,0);
  88:Core/Src/StepperMotor.c ****         break;
  89:Core/Src/StepperMotor.c ****     case 3:
  90:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,1);
  91:Core/Src/StepperMotor.c ****         break;
  92:Core/Src/StepperMotor.c ****     case 4:
  93:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,0);
  94:Core/Src/StepperMotor.c ****         break;
  95:Core/Src/StepperMotor.c ****     case 5:
  96:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,1);
  97:Core/Src/StepperMotor.c ****         break;
  98:Core/Src/StepperMotor.c ****     case 6:
  99:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,0);
 100:Core/Src/StepperMotor.c ****         break;
 101:Core/Src/StepperMotor.c ****     case 7:
 102:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,1);
 103:Core/Src/StepperMotor.c ****         break;
 104:Core/Src/StepperMotor.c ****     
 105:Core/Src/StepperMotor.c ****     default:
 106:Core/Src/StepperMotor.c ****         break;
 107:Core/Src/StepperMotor.c ****     }
 108:Core/Src/StepperMotor.c **** }
 109:Core/Src/StepperMotor.c **** 
 110:Core/Src/StepperMotor.c ****     stepperIndex++;
 209              		.loc 1 110 5 is_stmt 1 view .LVU33
 210              		.loc 1 110 17 is_stmt 0 view .LVU34
 211 003e 3E4A     		ldr	r2, .L40
 212 0040 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 213 0042 0133     		adds	r3, r3, #1
 214 0044 DBB2     		uxtb	r3, r3
 215 0046 1370     		strb	r3, [r2]
 111:Core/Src/StepperMotor.c ****     if (stepperIndex == 8){
 216              		.loc 1 111 5 is_stmt 1 view .LVU35
 217              		.loc 1 111 8 is_stmt 0 view .LVU36
 218 0048 082B     		cmp	r3, #8
ARM GAS  C:\Temp\cc3V15en.s 			page 7


 219 004a 71D0     		beq	.L39
 220              	.L13:
 112:Core/Src/StepperMotor.c ****         stepperIndex = 0;
 113:Core/Src/StepperMotor.c ****     }
 114:Core/Src/StepperMotor.c **** }
 221              		.loc 1 114 1 view .LVU37
 222 004c 10BD     		pop	{r4, pc}
 223              	.L22:
  51:Core/Src/StepperMotor.c ****         break;
 224              		.loc 1 51 9 is_stmt 1 view .LVU38
 225 004e 0122     		movs	r2, #1
 226 0050 4FF48041 		mov	r1, #16384
 227 0054 3948     		ldr	r0, .L40+4
 228 0056 FFF7FEFF 		bl	HAL_GPIO_WritePin
 229              	.LVL13:
  52:Core/Src/StepperMotor.c ****     case 2:
 230              		.loc 1 52 9 view .LVU39
 231 005a EBE7     		b	.L14
 232              	.L21:
  54:Core/Src/StepperMotor.c ****         break;
 233              		.loc 1 54 9 view .LVU40
 234 005c 0022     		movs	r2, #0
 235 005e 4FF48051 		mov	r1, #4096
 236 0062 3648     		ldr	r0, .L40+4
 237 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 238              	.LVL14:
  55:Core/Src/StepperMotor.c ****     case 3:
 239              		.loc 1 55 9 view .LVU41
 240 0068 E4E7     		b	.L14
 241              	.L20:
  57:Core/Src/StepperMotor.c ****         break;
 242              		.loc 1 57 9 view .LVU42
 243 006a 0122     		movs	r2, #1
 244 006c 4FF40051 		mov	r1, #8192
 245 0070 3248     		ldr	r0, .L40+4
 246 0072 FFF7FEFF 		bl	HAL_GPIO_WritePin
 247              	.LVL15:
  58:Core/Src/StepperMotor.c ****     case 4:
 248              		.loc 1 58 9 view .LVU43
 249 0076 DDE7     		b	.L14
 250              	.L19:
  60:Core/Src/StepperMotor.c ****         break;
 251              		.loc 1 60 9 view .LVU44
 252 0078 0022     		movs	r2, #0
 253 007a 4FF48041 		mov	r1, #16384
 254 007e 2F48     		ldr	r0, .L40+4
 255 0080 FFF7FEFF 		bl	HAL_GPIO_WritePin
 256              	.LVL16:
  61:Core/Src/StepperMotor.c ****     case 5:
 257              		.loc 1 61 9 view .LVU45
 258 0084 D6E7     		b	.L14
 259              	.L18:
  63:Core/Src/StepperMotor.c ****         break;
 260              		.loc 1 63 9 view .LVU46
 261 0086 0122     		movs	r2, #1
 262 0088 4FF40041 		mov	r1, #32768
 263 008c 2B48     		ldr	r0, .L40+4
ARM GAS  C:\Temp\cc3V15en.s 			page 8


 264 008e FFF7FEFF 		bl	HAL_GPIO_WritePin
 265              	.LVL17:
  64:Core/Src/StepperMotor.c ****     case 6:
 266              		.loc 1 64 9 view .LVU47
 267 0092 CFE7     		b	.L14
 268              	.L17:
  66:Core/Src/StepperMotor.c ****         break;
 269              		.loc 1 66 9 view .LVU48
 270 0094 0022     		movs	r2, #0
 271 0096 4FF40051 		mov	r1, #8192
 272 009a 2848     		ldr	r0, .L40+4
 273 009c FFF7FEFF 		bl	HAL_GPIO_WritePin
 274              	.LVL18:
  67:Core/Src/StepperMotor.c ****     case 7:
 275              		.loc 1 67 9 view .LVU49
 276 00a0 C8E7     		b	.L14
 277              	.L15:
  69:Core/Src/StepperMotor.c ****         break;
 278              		.loc 1 69 9 view .LVU50
 279 00a2 0122     		movs	r2, #1
 280 00a4 4FF48051 		mov	r1, #4096
 281 00a8 2448     		ldr	r0, .L40+4
 282 00aa FFF7FEFF 		bl	HAL_GPIO_WritePin
 283              	.LVL19:
  70:Core/Src/StepperMotor.c ****     
 284              		.loc 1 70 9 view .LVU51
 285 00ae C1E7     		b	.L14
 286              	.L38:
  77:Core/Src/StepperMotor.c ****     {
 287              		.loc 1 77 9 view .LVU52
 288 00b0 214B     		ldr	r3, .L40
 289 00b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 290 00b4 072B     		cmp	r3, #7
 291 00b6 C2D8     		bhi	.L24
 292 00b8 DFE803F0 		tbb	[pc, r3]
 293              	.L26:
 294 00bc 04       		.byte	(.L33-.L26)/2
 295 00bd 10       		.byte	(.L32-.L26)/2
 296 00be 16       		.byte	(.L31-.L26)/2
 297 00bf 1C       		.byte	(.L30-.L26)/2
 298 00c0 22       		.byte	(.L29-.L26)/2
 299 00c1 28       		.byte	(.L28-.L26)/2
 300 00c2 2E       		.byte	(.L27-.L26)/2
 301 00c3 34       		.byte	(.L25-.L26)/2
 302              		.p2align 1
 303              	.L33:
  80:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,0);
 304              		.loc 1 80 9 view .LVU53
 305 00c4 1F4C     		ldr	r4, .L40+12
 306 00c6 0122     		movs	r2, #1
 307 00c8 1146     		mov	r1, r2
 308 00ca 2046     		mov	r0, r4
 309 00cc FFF7FEFF 		bl	HAL_GPIO_WritePin
 310              	.LVL20:
  81:Core/Src/StepperMotor.c ****         break;
 311              		.loc 1 81 9 view .LVU54
 312 00d0 0022     		movs	r2, #0
ARM GAS  C:\Temp\cc3V15en.s 			page 9


 313 00d2 0821     		movs	r1, #8
 314 00d4 2046     		mov	r0, r4
 315 00d6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 316              	.LVL21:
  82:Core/Src/StepperMotor.c ****     case 1:
 317              		.loc 1 82 9 view .LVU55
 318 00da B0E7     		b	.L24
 319              	.L32:
  84:Core/Src/StepperMotor.c ****         break;
 320              		.loc 1 84 9 view .LVU56
 321 00dc 0122     		movs	r2, #1
 322 00de 0221     		movs	r1, #2
 323 00e0 1848     		ldr	r0, .L40+12
 324 00e2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 325              	.LVL22:
  85:Core/Src/StepperMotor.c ****     case 2:
 326              		.loc 1 85 9 view .LVU57
 327 00e6 AAE7     		b	.L24
 328              	.L31:
  87:Core/Src/StepperMotor.c ****         break;
 329              		.loc 1 87 9 view .LVU58
 330 00e8 0022     		movs	r2, #0
 331 00ea 0121     		movs	r1, #1
 332 00ec 1548     		ldr	r0, .L40+12
 333 00ee FFF7FEFF 		bl	HAL_GPIO_WritePin
 334              	.LVL23:
  88:Core/Src/StepperMotor.c ****     case 3:
 335              		.loc 1 88 9 view .LVU59
 336 00f2 A4E7     		b	.L24
 337              	.L30:
  90:Core/Src/StepperMotor.c ****         break;
 338              		.loc 1 90 9 view .LVU60
 339 00f4 0122     		movs	r2, #1
 340 00f6 0421     		movs	r1, #4
 341 00f8 1248     		ldr	r0, .L40+12
 342 00fa FFF7FEFF 		bl	HAL_GPIO_WritePin
 343              	.LVL24:
  91:Core/Src/StepperMotor.c ****     case 4:
 344              		.loc 1 91 9 view .LVU61
 345 00fe 9EE7     		b	.L24
 346              	.L29:
  93:Core/Src/StepperMotor.c ****         break;
 347              		.loc 1 93 9 view .LVU62
 348 0100 0022     		movs	r2, #0
 349 0102 0221     		movs	r1, #2
 350 0104 0F48     		ldr	r0, .L40+12
 351 0106 FFF7FEFF 		bl	HAL_GPIO_WritePin
 352              	.LVL25:
  94:Core/Src/StepperMotor.c ****     case 5:
 353              		.loc 1 94 9 view .LVU63
 354 010a 98E7     		b	.L24
 355              	.L28:
  96:Core/Src/StepperMotor.c ****         break;
 356              		.loc 1 96 9 view .LVU64
 357 010c 0122     		movs	r2, #1
 358 010e 0821     		movs	r1, #8
 359 0110 0C48     		ldr	r0, .L40+12
ARM GAS  C:\Temp\cc3V15en.s 			page 10


 360 0112 FFF7FEFF 		bl	HAL_GPIO_WritePin
 361              	.LVL26:
  97:Core/Src/StepperMotor.c ****     case 6:
 362              		.loc 1 97 9 view .LVU65
 363 0116 92E7     		b	.L24
 364              	.L27:
  99:Core/Src/StepperMotor.c ****         break;
 365              		.loc 1 99 9 view .LVU66
 366 0118 0022     		movs	r2, #0
 367 011a 0421     		movs	r1, #4
 368 011c 0948     		ldr	r0, .L40+12
 369 011e FFF7FEFF 		bl	HAL_GPIO_WritePin
 370              	.LVL27:
 100:Core/Src/StepperMotor.c ****     case 7:
 371              		.loc 1 100 9 view .LVU67
 372 0122 8CE7     		b	.L24
 373              	.L25:
 102:Core/Src/StepperMotor.c ****         break;
 374              		.loc 1 102 9 view .LVU68
 375 0124 0122     		movs	r2, #1
 376 0126 1146     		mov	r1, r2
 377 0128 0648     		ldr	r0, .L40+12
 378 012a FFF7FEFF 		bl	HAL_GPIO_WritePin
 379              	.LVL28:
 103:Core/Src/StepperMotor.c ****     
 380              		.loc 1 103 9 view .LVU69
 381 012e 86E7     		b	.L24
 382              	.L39:
 112:Core/Src/StepperMotor.c ****     }
 383              		.loc 1 112 9 view .LVU70
 112:Core/Src/StepperMotor.c ****     }
 384              		.loc 1 112 22 is_stmt 0 view .LVU71
 385 0130 1346     		mov	r3, r2
 386 0132 0022     		movs	r2, #0
 387 0134 1A70     		strb	r2, [r3]
 388              		.loc 1 114 1 view .LVU72
 389 0136 89E7     		b	.L13
 390              	.L41:
 391              		.align	2
 392              	.L40:
 393 0138 00000000 		.word	stepperIndex
 394 013c 000C0240 		.word	1073875968
 395 0140 00000000 		.word	withLEDs
 396 0144 00040240 		.word	1073873920
 397              		.cfi_endproc
 398              	.LFE237:
 400              		.section	.text.WaveModeSequence,"ax",%progbits
 401              		.align	1
 402              		.global	WaveModeSequence
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 407              	WaveModeSequence:
 408              	.LFB238:
 115:Core/Src/StepperMotor.c **** 
 116:Core/Src/StepperMotor.c **** void WaveModeSequence(void){
 409              		.loc 1 116 28 is_stmt 1 view -0
ARM GAS  C:\Temp\cc3V15en.s 			page 11


 410              		.cfi_startproc
 411              		@ args = 0, pretend = 0, frame = 0
 412              		@ frame_needed = 0, uses_anonymous_args = 0
 413 0000 10B5     		push	{r4, lr}
 414              		.cfi_def_cfa_offset 8
 415              		.cfi_offset 4, -8
 416              		.cfi_offset 14, -4
 117:Core/Src/StepperMotor.c ****     unlockStepper();
 417              		.loc 1 117 5 view .LVU74
 418 0002 FFF7FEFF 		bl	unlockStepper
 419              	.LVL29:
 118:Core/Src/StepperMotor.c ****     switch (stepperIndex)
 420              		.loc 1 118 5 view .LVU75
 421 0006 444B     		ldr	r3, .L61
 422 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 423 000a 032B     		cmp	r3, #3
 424 000c 10D8     		bhi	.L43
 425 000e DFE803F0 		tbb	[pc, r3]
 426              	.L45:
 427 0012 02       		.byte	(.L48-.L45)/2
 428 0013 1C       		.byte	(.L47-.L45)/2
 429 0014 2A       		.byte	(.L46-.L45)/2
 430 0015 38       		.byte	(.L44-.L45)/2
 431              		.p2align 1
 432              	.L48:
 119:Core/Src/StepperMotor.c ****     {
 120:Core/Src/StepperMotor.c ****     case 0:
 121:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,0);
 433              		.loc 1 121 9 view .LVU76
 434 0016 414C     		ldr	r4, .L61+4
 435 0018 0022     		movs	r2, #0
 436 001a 4FF40041 		mov	r1, #32768
 437 001e 2046     		mov	r0, r4
 438 0020 FFF7FEFF 		bl	HAL_GPIO_WritePin
 439              	.LVL30:
 122:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,1);
 440              		.loc 1 122 9 view .LVU77
 441 0024 0122     		movs	r2, #1
 442 0026 4FF48051 		mov	r1, #4096
 443 002a 2046     		mov	r0, r4
 444 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 445              	.LVL31:
 123:Core/Src/StepperMotor.c ****         break;
 446              		.loc 1 123 9 view .LVU78
 447              	.L43:
 124:Core/Src/StepperMotor.c ****     case 1:
 125:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,0);
 126:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,1);
 127:Core/Src/StepperMotor.c ****         break;
 128:Core/Src/StepperMotor.c ****     case 2:
 129:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,0);
 130:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,1);
 131:Core/Src/StepperMotor.c ****         break;
 132:Core/Src/StepperMotor.c ****     case 3:
 133:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,0);
 134:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,1);
 135:Core/Src/StepperMotor.c ****         break;
ARM GAS  C:\Temp\cc3V15en.s 			page 12


 136:Core/Src/StepperMotor.c ****     
 137:Core/Src/StepperMotor.c ****     default:
 138:Core/Src/StepperMotor.c ****         break;
 139:Core/Src/StepperMotor.c ****     }
 140:Core/Src/StepperMotor.c **** 
 141:Core/Src/StepperMotor.c **** if (withLEDs == 1){
 448              		.loc 1 141 1 view .LVU79
 449              		.loc 1 141 14 is_stmt 0 view .LVU80
 450 0030 3B4B     		ldr	r3, .L61+8
 451 0032 B3F90030 		ldrsh	r3, [r3]
 452              		.loc 1 141 4 view .LVU81
 453 0036 012B     		cmp	r3, #1
 454 0038 31D0     		beq	.L59
 455              	.L49:
 142:Core/Src/StepperMotor.c ****         switch (stepperIndex)
 143:Core/Src/StepperMotor.c ****     {
 144:Core/Src/StepperMotor.c ****     case 0:
 145:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,0);
 146:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,1);
 147:Core/Src/StepperMotor.c ****         break;
 148:Core/Src/StepperMotor.c ****     case 1:
 149:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,0);
 150:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,1);
 151:Core/Src/StepperMotor.c ****         break;
 152:Core/Src/StepperMotor.c ****     case 2:
 153:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,0);
 154:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,1);
 155:Core/Src/StepperMotor.c ****         break;
 156:Core/Src/StepperMotor.c ****     case 3:
 157:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,0);
 158:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,1);
 159:Core/Src/StepperMotor.c ****         break;
 160:Core/Src/StepperMotor.c ****     
 161:Core/Src/StepperMotor.c ****     default:
 162:Core/Src/StepperMotor.c ****         break;
 163:Core/Src/StepperMotor.c ****     }
 164:Core/Src/StepperMotor.c **** }
 165:Core/Src/StepperMotor.c ****     
 166:Core/Src/StepperMotor.c ****     stepperIndex++;
 456              		.loc 1 166 5 is_stmt 1 view .LVU82
 457              		.loc 1 166 17 is_stmt 0 view .LVU83
 458 003a 374A     		ldr	r2, .L61
 459 003c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 460 003e 0133     		adds	r3, r3, #1
 461 0040 DBB2     		uxtb	r3, r3
 462 0042 1370     		strb	r3, [r2]
 167:Core/Src/StepperMotor.c ****     if (stepperIndex == 4){
 463              		.loc 1 167 5 is_stmt 1 view .LVU84
 464              		.loc 1 167 8 is_stmt 0 view .LVU85
 465 0044 042B     		cmp	r3, #4
 466 0046 62D0     		beq	.L60
 467              	.L42:
 168:Core/Src/StepperMotor.c ****         stepperIndex = 0;
 169:Core/Src/StepperMotor.c ****     }
 170:Core/Src/StepperMotor.c **** }
 468              		.loc 1 170 1 view .LVU86
 469 0048 10BD     		pop	{r4, pc}
ARM GAS  C:\Temp\cc3V15en.s 			page 13


 470              	.L47:
 125:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,1);
 471              		.loc 1 125 9 is_stmt 1 view .LVU87
 472 004a 344C     		ldr	r4, .L61+4
 473 004c 0022     		movs	r2, #0
 474 004e 4FF48051 		mov	r1, #4096
 475 0052 2046     		mov	r0, r4
 476 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 477              	.LVL32:
 126:Core/Src/StepperMotor.c ****         break;
 478              		.loc 1 126 9 view .LVU88
 479 0058 0122     		movs	r2, #1
 480 005a 4FF48041 		mov	r1, #16384
 481 005e 2046     		mov	r0, r4
 482 0060 FFF7FEFF 		bl	HAL_GPIO_WritePin
 483              	.LVL33:
 127:Core/Src/StepperMotor.c ****     case 2:
 484              		.loc 1 127 9 view .LVU89
 485 0064 E4E7     		b	.L43
 486              	.L46:
 129:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,1);
 487              		.loc 1 129 9 view .LVU90
 488 0066 2D4C     		ldr	r4, .L61+4
 489 0068 0022     		movs	r2, #0
 490 006a 4FF48041 		mov	r1, #16384
 491 006e 2046     		mov	r0, r4
 492 0070 FFF7FEFF 		bl	HAL_GPIO_WritePin
 493              	.LVL34:
 130:Core/Src/StepperMotor.c ****         break;
 494              		.loc 1 130 9 view .LVU91
 495 0074 0122     		movs	r2, #1
 496 0076 4FF40051 		mov	r1, #8192
 497 007a 2046     		mov	r0, r4
 498 007c FFF7FEFF 		bl	HAL_GPIO_WritePin
 499              	.LVL35:
 131:Core/Src/StepperMotor.c ****     case 3:
 500              		.loc 1 131 9 view .LVU92
 501 0080 D6E7     		b	.L43
 502              	.L44:
 133:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,1);
 503              		.loc 1 133 9 view .LVU93
 504 0082 264C     		ldr	r4, .L61+4
 505 0084 0022     		movs	r2, #0
 506 0086 4FF40051 		mov	r1, #8192
 507 008a 2046     		mov	r0, r4
 508 008c FFF7FEFF 		bl	HAL_GPIO_WritePin
 509              	.LVL36:
 134:Core/Src/StepperMotor.c ****         break;
 510              		.loc 1 134 9 view .LVU94
 511 0090 0122     		movs	r2, #1
 512 0092 4FF40041 		mov	r1, #32768
 513 0096 2046     		mov	r0, r4
 514 0098 FFF7FEFF 		bl	HAL_GPIO_WritePin
 515              	.LVL37:
 135:Core/Src/StepperMotor.c ****     
 516              		.loc 1 135 9 view .LVU95
 517 009c C8E7     		b	.L43
ARM GAS  C:\Temp\cc3V15en.s 			page 14


 518              	.L59:
 142:Core/Src/StepperMotor.c ****     {
 519              		.loc 1 142 9 view .LVU96
 520 009e 1E4B     		ldr	r3, .L61
 521 00a0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 522 00a2 032B     		cmp	r3, #3
 523 00a4 C9D8     		bhi	.L49
 524 00a6 DFE803F0 		tbb	[pc, r3]
 525              	.L51:
 526 00aa 02       		.byte	(.L54-.L51)/2
 527 00ab 0E       		.byte	(.L53-.L51)/2
 528 00ac 1A       		.byte	(.L52-.L51)/2
 529 00ad 26       		.byte	(.L50-.L51)/2
 530              		.p2align 1
 531              	.L54:
 145:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,1);
 532              		.loc 1 145 9 view .LVU97
 533 00ae 1D4C     		ldr	r4, .L61+12
 534 00b0 0022     		movs	r2, #0
 535 00b2 0821     		movs	r1, #8
 536 00b4 2046     		mov	r0, r4
 537 00b6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 538              	.LVL38:
 146:Core/Src/StepperMotor.c ****         break;
 539              		.loc 1 146 9 view .LVU98
 540 00ba 0122     		movs	r2, #1
 541 00bc 1146     		mov	r1, r2
 542 00be 2046     		mov	r0, r4
 543 00c0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 544              	.LVL39:
 147:Core/Src/StepperMotor.c ****     case 1:
 545              		.loc 1 147 9 view .LVU99
 546 00c4 B9E7     		b	.L49
 547              	.L53:
 149:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,1);
 548              		.loc 1 149 9 view .LVU100
 549 00c6 174C     		ldr	r4, .L61+12
 550 00c8 0022     		movs	r2, #0
 551 00ca 0121     		movs	r1, #1
 552 00cc 2046     		mov	r0, r4
 553 00ce FFF7FEFF 		bl	HAL_GPIO_WritePin
 554              	.LVL40:
 150:Core/Src/StepperMotor.c ****         break;
 555              		.loc 1 150 9 view .LVU101
 556 00d2 0122     		movs	r2, #1
 557 00d4 0221     		movs	r1, #2
 558 00d6 2046     		mov	r0, r4
 559 00d8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 560              	.LVL41:
 151:Core/Src/StepperMotor.c ****     case 2:
 561              		.loc 1 151 9 view .LVU102
 562 00dc ADE7     		b	.L49
 563              	.L52:
 153:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,1);
 564              		.loc 1 153 9 view .LVU103
 565 00de 114C     		ldr	r4, .L61+12
 566 00e0 0022     		movs	r2, #0
ARM GAS  C:\Temp\cc3V15en.s 			page 15


 567 00e2 0221     		movs	r1, #2
 568 00e4 2046     		mov	r0, r4
 569 00e6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 570              	.LVL42:
 154:Core/Src/StepperMotor.c ****         break;
 571              		.loc 1 154 9 view .LVU104
 572 00ea 0122     		movs	r2, #1
 573 00ec 0421     		movs	r1, #4
 574 00ee 2046     		mov	r0, r4
 575 00f0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 576              	.LVL43:
 155:Core/Src/StepperMotor.c ****     case 3:
 577              		.loc 1 155 9 view .LVU105
 578 00f4 A1E7     		b	.L49
 579              	.L50:
 157:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,1);
 580              		.loc 1 157 9 view .LVU106
 581 00f6 0B4C     		ldr	r4, .L61+12
 582 00f8 0022     		movs	r2, #0
 583 00fa 0421     		movs	r1, #4
 584 00fc 2046     		mov	r0, r4
 585 00fe FFF7FEFF 		bl	HAL_GPIO_WritePin
 586              	.LVL44:
 158:Core/Src/StepperMotor.c ****         break;
 587              		.loc 1 158 9 view .LVU107
 588 0102 0122     		movs	r2, #1
 589 0104 0821     		movs	r1, #8
 590 0106 2046     		mov	r0, r4
 591 0108 FFF7FEFF 		bl	HAL_GPIO_WritePin
 592              	.LVL45:
 159:Core/Src/StepperMotor.c ****     
 593              		.loc 1 159 9 view .LVU108
 594 010c 95E7     		b	.L49
 595              	.L60:
 168:Core/Src/StepperMotor.c ****     }
 596              		.loc 1 168 9 view .LVU109
 168:Core/Src/StepperMotor.c ****     }
 597              		.loc 1 168 22 is_stmt 0 view .LVU110
 598 010e 1346     		mov	r3, r2
 599 0110 0022     		movs	r2, #0
 600 0112 1A70     		strb	r2, [r3]
 601              		.loc 1 170 1 view .LVU111
 602 0114 98E7     		b	.L42
 603              	.L62:
 604 0116 00BF     		.align	2
 605              	.L61:
 606 0118 00000000 		.word	stepperIndex
 607 011c 000C0240 		.word	1073875968
 608 0120 00000000 		.word	withLEDs
 609 0124 00040240 		.word	1073873920
 610              		.cfi_endproc
 611              	.LFE238:
 613              		.section	.text.FullModeSequence,"ax",%progbits
 614              		.align	1
 615              		.global	FullModeSequence
 616              		.syntax unified
 617              		.thumb
ARM GAS  C:\Temp\cc3V15en.s 			page 16


 618              		.thumb_func
 620              	FullModeSequence:
 621              	.LFB239:
 171:Core/Src/StepperMotor.c **** 
 172:Core/Src/StepperMotor.c **** void FullModeSequence(void){
 622              		.loc 1 172 28 is_stmt 1 view -0
 623              		.cfi_startproc
 624              		@ args = 0, pretend = 0, frame = 0
 625              		@ frame_needed = 0, uses_anonymous_args = 0
 626 0000 10B5     		push	{r4, lr}
 627              		.cfi_def_cfa_offset 8
 628              		.cfi_offset 4, -8
 629              		.cfi_offset 14, -4
 173:Core/Src/StepperMotor.c ****     unlockStepper();
 630              		.loc 1 173 5 view .LVU113
 631 0002 FFF7FEFF 		bl	unlockStepper
 632              	.LVL46:
 174:Core/Src/StepperMotor.c ****     switch (stepperIndex)
 633              		.loc 1 174 5 view .LVU114
 634 0006 5A4B     		ldr	r3, .L82
 635 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 636 000a 032B     		cmp	r3, #3
 637 000c 16D8     		bhi	.L64
 638 000e DFE803F0 		tbb	[pc, r3]
 639              	.L66:
 640 0012 02       		.byte	(.L69-.L66)/2
 641 0013 23       		.byte	(.L68-.L66)/2
 642 0014 37       		.byte	(.L67-.L66)/2
 643 0015 4B       		.byte	(.L65-.L66)/2
 644              		.p2align 1
 645              	.L69:
 175:Core/Src/StepperMotor.c ****     {
 176:Core/Src/StepperMotor.c ****     case 0:
 177:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,0);
 646              		.loc 1 177 9 view .LVU115
 647 0016 574C     		ldr	r4, .L82+4
 648 0018 0022     		movs	r2, #0
 649 001a 4FF40041 		mov	r1, #32768
 650 001e 2046     		mov	r0, r4
 651 0020 FFF7FEFF 		bl	HAL_GPIO_WritePin
 652              	.LVL47:
 178:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,1);
 653              		.loc 1 178 9 view .LVU116
 654 0024 0122     		movs	r2, #1
 655 0026 4FF48051 		mov	r1, #4096
 656 002a 2046     		mov	r0, r4
 657 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 658              	.LVL48:
 179:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,1);
 659              		.loc 1 179 9 view .LVU117
 660 0030 0122     		movs	r2, #1
 661 0032 4FF48041 		mov	r1, #16384
 662 0036 2046     		mov	r0, r4
 663 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 664              	.LVL49:
 180:Core/Src/StepperMotor.c ****         break;
 665              		.loc 1 180 9 view .LVU118
ARM GAS  C:\Temp\cc3V15en.s 			page 17


 666              	.L64:
 181:Core/Src/StepperMotor.c ****     case 1:
 182:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,0);
 183:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,1);
 184:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,1);
 185:Core/Src/StepperMotor.c ****         break;
 186:Core/Src/StepperMotor.c ****     case 2:
 187:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,0);
 188:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,1);
 189:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,1);
 190:Core/Src/StepperMotor.c ****         break;
 191:Core/Src/StepperMotor.c ****     case 3:
 192:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,0);
 193:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,1);
 194:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,1);
 195:Core/Src/StepperMotor.c ****         break;
 196:Core/Src/StepperMotor.c ****     
 197:Core/Src/StepperMotor.c ****     default:
 198:Core/Src/StepperMotor.c ****         break;
 199:Core/Src/StepperMotor.c ****     }
 200:Core/Src/StepperMotor.c **** 
 201:Core/Src/StepperMotor.c ****     if (withLEDs == 1){
 667              		.loc 1 201 5 view .LVU119
 668              		.loc 1 201 18 is_stmt 0 view .LVU120
 669 003c 4E4B     		ldr	r3, .L82+8
 670 003e B3F90030 		ldrsh	r3, [r3]
 671              		.loc 1 201 8 view .LVU121
 672 0042 012B     		cmp	r3, #1
 673 0044 44D0     		beq	.L80
 674              	.L70:
 202:Core/Src/StepperMotor.c ****             switch (stepperIndex)
 203:Core/Src/StepperMotor.c ****     {
 204:Core/Src/StepperMotor.c ****     case 0:
 205:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,0);
 206:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,1);
 207:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,1);
 208:Core/Src/StepperMotor.c ****         break;
 209:Core/Src/StepperMotor.c ****     case 1:
 210:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,0);
 211:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,1);
 212:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,1);
 213:Core/Src/StepperMotor.c ****         break;
 214:Core/Src/StepperMotor.c ****     case 2:
 215:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,0);
 216:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,1);
 217:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,1);
 218:Core/Src/StepperMotor.c ****         break;
 219:Core/Src/StepperMotor.c ****     case 3:
 220:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,0);
 221:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,1);
 222:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,1);
 223:Core/Src/StepperMotor.c ****         break;
 224:Core/Src/StepperMotor.c ****     
 225:Core/Src/StepperMotor.c ****     default:
 226:Core/Src/StepperMotor.c ****         break;
 227:Core/Src/StepperMotor.c ****     }
 228:Core/Src/StepperMotor.c ****     }
ARM GAS  C:\Temp\cc3V15en.s 			page 18


 229:Core/Src/StepperMotor.c ****     stepperIndex++;
 675              		.loc 1 229 5 is_stmt 1 view .LVU122
 676              		.loc 1 229 17 is_stmt 0 view .LVU123
 677 0046 4A4A     		ldr	r2, .L82
 678 0048 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 679 004a 0133     		adds	r3, r3, #1
 680 004c DBB2     		uxtb	r3, r3
 681 004e 1370     		strb	r3, [r2]
 230:Core/Src/StepperMotor.c ****     if (stepperIndex == 4){
 682              		.loc 1 230 5 is_stmt 1 view .LVU124
 683              		.loc 1 230 8 is_stmt 0 view .LVU125
 684 0050 042B     		cmp	r3, #4
 685 0052 00F08980 		beq	.L81
 686              	.L63:
 231:Core/Src/StepperMotor.c ****         stepperIndex = 0;
 232:Core/Src/StepperMotor.c ****     }
 233:Core/Src/StepperMotor.c **** }
 687              		.loc 1 233 1 view .LVU126
 688 0056 10BD     		pop	{r4, pc}
 689              	.L68:
 182:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_1_GPIO_Port,Stepper_1_Pin,1);
 690              		.loc 1 182 9 is_stmt 1 view .LVU127
 691 0058 464C     		ldr	r4, .L82+4
 692 005a 0022     		movs	r2, #0
 693 005c 4FF48051 		mov	r1, #4096
 694 0060 2046     		mov	r0, r4
 695 0062 FFF7FEFF 		bl	HAL_GPIO_WritePin
 696              	.LVL50:
 183:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,1);
 697              		.loc 1 183 9 view .LVU128
 698 0066 0122     		movs	r2, #1
 699 0068 4FF48041 		mov	r1, #16384
 700 006c 2046     		mov	r0, r4
 701 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 702              	.LVL51:
 184:Core/Src/StepperMotor.c ****         break;
 703              		.loc 1 184 9 view .LVU129
 704 0072 0122     		movs	r2, #1
 705 0074 4FF40051 		mov	r1, #8192
 706 0078 2046     		mov	r0, r4
 707 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
 708              	.LVL52:
 185:Core/Src/StepperMotor.c ****     case 2:
 709              		.loc 1 185 9 view .LVU130
 710 007e DDE7     		b	.L64
 711              	.L67:
 187:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_2_GPIO_Port,Stepper_2_Pin,1);
 712              		.loc 1 187 9 view .LVU131
 713 0080 3C4C     		ldr	r4, .L82+4
 714 0082 0022     		movs	r2, #0
 715 0084 4FF48041 		mov	r1, #16384
 716 0088 2046     		mov	r0, r4
 717 008a FFF7FEFF 		bl	HAL_GPIO_WritePin
 718              	.LVL53:
 188:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,1);
 719              		.loc 1 188 9 view .LVU132
 720 008e 0122     		movs	r2, #1
ARM GAS  C:\Temp\cc3V15en.s 			page 19


 721 0090 4FF40051 		mov	r1, #8192
 722 0094 2046     		mov	r0, r4
 723 0096 FFF7FEFF 		bl	HAL_GPIO_WritePin
 724              	.LVL54:
 189:Core/Src/StepperMotor.c ****         break;
 725              		.loc 1 189 9 view .LVU133
 726 009a 0122     		movs	r2, #1
 727 009c 4FF40041 		mov	r1, #32768
 728 00a0 2046     		mov	r0, r4
 729 00a2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 730              	.LVL55:
 190:Core/Src/StepperMotor.c ****     case 3:
 731              		.loc 1 190 9 view .LVU134
 732 00a6 C9E7     		b	.L64
 733              	.L65:
 192:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_3_GPIO_Port,Stepper_3_Pin,1);
 734              		.loc 1 192 9 view .LVU135
 735 00a8 324C     		ldr	r4, .L82+4
 736 00aa 0022     		movs	r2, #0
 737 00ac 4FF40051 		mov	r1, #8192
 738 00b0 2046     		mov	r0, r4
 739 00b2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 740              	.LVL56:
 193:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(Stepper_0_GPIO_Port,Stepper_0_Pin,1);
 741              		.loc 1 193 9 view .LVU136
 742 00b6 0122     		movs	r2, #1
 743 00b8 4FF40041 		mov	r1, #32768
 744 00bc 2046     		mov	r0, r4
 745 00be FFF7FEFF 		bl	HAL_GPIO_WritePin
 746              	.LVL57:
 194:Core/Src/StepperMotor.c ****         break;
 747              		.loc 1 194 9 view .LVU137
 748 00c2 0122     		movs	r2, #1
 749 00c4 4FF48051 		mov	r1, #4096
 750 00c8 2046     		mov	r0, r4
 751 00ca FFF7FEFF 		bl	HAL_GPIO_WritePin
 752              	.LVL58:
 195:Core/Src/StepperMotor.c ****     
 753              		.loc 1 195 9 view .LVU138
 754 00ce B5E7     		b	.L64
 755              	.L80:
 202:Core/Src/StepperMotor.c ****     {
 756              		.loc 1 202 13 view .LVU139
 757 00d0 274B     		ldr	r3, .L82
 758 00d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 759 00d4 032B     		cmp	r3, #3
 760 00d6 B6D8     		bhi	.L70
 761 00d8 DFE803F0 		tbb	[pc, r3]
 762              	.L72:
 763 00dc 02       		.byte	(.L75-.L72)/2
 764 00dd 13       		.byte	(.L74-.L72)/2
 765 00de 24       		.byte	(.L73-.L72)/2
 766 00df 35       		.byte	(.L71-.L72)/2
 767              		.p2align 1
 768              	.L75:
 205:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,1);
 769              		.loc 1 205 9 view .LVU140
ARM GAS  C:\Temp\cc3V15en.s 			page 20


 770 00e0 264C     		ldr	r4, .L82+12
 771 00e2 0022     		movs	r2, #0
 772 00e4 0821     		movs	r1, #8
 773 00e6 2046     		mov	r0, r4
 774 00e8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 775              	.LVL59:
 206:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,1);
 776              		.loc 1 206 9 view .LVU141
 777 00ec 0122     		movs	r2, #1
 778 00ee 1146     		mov	r1, r2
 779 00f0 2046     		mov	r0, r4
 780 00f2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 781              	.LVL60:
 207:Core/Src/StepperMotor.c ****         break;
 782              		.loc 1 207 9 view .LVU142
 783 00f6 0122     		movs	r2, #1
 784 00f8 0221     		movs	r1, #2
 785 00fa 2046     		mov	r0, r4
 786 00fc FFF7FEFF 		bl	HAL_GPIO_WritePin
 787              	.LVL61:
 208:Core/Src/StepperMotor.c ****     case 1:
 788              		.loc 1 208 9 view .LVU143
 789 0100 A1E7     		b	.L70
 790              	.L74:
 210:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_1_Pin,1);
 791              		.loc 1 210 9 view .LVU144
 792 0102 1E4C     		ldr	r4, .L82+12
 793 0104 0022     		movs	r2, #0
 794 0106 0121     		movs	r1, #1
 795 0108 2046     		mov	r0, r4
 796 010a FFF7FEFF 		bl	HAL_GPIO_WritePin
 797              	.LVL62:
 211:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,1);
 798              		.loc 1 211 9 view .LVU145
 799 010e 0122     		movs	r2, #1
 800 0110 0221     		movs	r1, #2
 801 0112 2046     		mov	r0, r4
 802 0114 FFF7FEFF 		bl	HAL_GPIO_WritePin
 803              	.LVL63:
 212:Core/Src/StepperMotor.c ****         break;
 804              		.loc 1 212 9 view .LVU146
 805 0118 0122     		movs	r2, #1
 806 011a 0421     		movs	r1, #4
 807 011c 2046     		mov	r0, r4
 808 011e FFF7FEFF 		bl	HAL_GPIO_WritePin
 809              	.LVL64:
 213:Core/Src/StepperMotor.c ****     case 2:
 810              		.loc 1 213 9 view .LVU147
 811 0122 90E7     		b	.L70
 812              	.L73:
 215:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_2_Pin,1);
 813              		.loc 1 215 9 view .LVU148
 814 0124 154C     		ldr	r4, .L82+12
 815 0126 0022     		movs	r2, #0
 816 0128 0221     		movs	r1, #2
 817 012a 2046     		mov	r0, r4
 818 012c FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Temp\cc3V15en.s 			page 21


 819              	.LVL65:
 216:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,1);
 820              		.loc 1 216 9 view .LVU149
 821 0130 0122     		movs	r2, #1
 822 0132 0421     		movs	r1, #4
 823 0134 2046     		mov	r0, r4
 824 0136 FFF7FEFF 		bl	HAL_GPIO_WritePin
 825              	.LVL66:
 217:Core/Src/StepperMotor.c ****         break;
 826              		.loc 1 217 9 view .LVU150
 827 013a 0122     		movs	r2, #1
 828 013c 0821     		movs	r1, #8
 829 013e 2046     		mov	r0, r4
 830 0140 FFF7FEFF 		bl	HAL_GPIO_WritePin
 831              	.LVL67:
 218:Core/Src/StepperMotor.c ****     case 3:
 832              		.loc 1 218 9 view .LVU151
 833 0144 7FE7     		b	.L70
 834              	.L71:
 220:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_3_Pin,1);
 835              		.loc 1 220 9 view .LVU152
 836 0146 0D4C     		ldr	r4, .L82+12
 837 0148 0022     		movs	r2, #0
 838 014a 0421     		movs	r1, #4
 839 014c 2046     		mov	r0, r4
 840 014e FFF7FEFF 		bl	HAL_GPIO_WritePin
 841              	.LVL68:
 221:Core/Src/StepperMotor.c ****         HAL_GPIO_WritePin(LED_0_GPIO_Port,LED_0_Pin,1);
 842              		.loc 1 221 9 view .LVU153
 843 0152 0122     		movs	r2, #1
 844 0154 0821     		movs	r1, #8
 845 0156 2046     		mov	r0, r4
 846 0158 FFF7FEFF 		bl	HAL_GPIO_WritePin
 847              	.LVL69:
 222:Core/Src/StepperMotor.c ****         break;
 848              		.loc 1 222 9 view .LVU154
 849 015c 0122     		movs	r2, #1
 850 015e 1146     		mov	r1, r2
 851 0160 2046     		mov	r0, r4
 852 0162 FFF7FEFF 		bl	HAL_GPIO_WritePin
 853              	.LVL70:
 223:Core/Src/StepperMotor.c ****     
 854              		.loc 1 223 9 view .LVU155
 855 0166 6EE7     		b	.L70
 856              	.L81:
 231:Core/Src/StepperMotor.c ****     }
 857              		.loc 1 231 9 view .LVU156
 231:Core/Src/StepperMotor.c ****     }
 858              		.loc 1 231 22 is_stmt 0 view .LVU157
 859 0168 1346     		mov	r3, r2
 860 016a 0022     		movs	r2, #0
 861 016c 1A70     		strb	r2, [r3]
 862              		.loc 1 233 1 view .LVU158
 863 016e 72E7     		b	.L63
 864              	.L83:
 865              		.align	2
 866              	.L82:
ARM GAS  C:\Temp\cc3V15en.s 			page 22


 867 0170 00000000 		.word	stepperIndex
 868 0174 000C0240 		.word	1073875968
 869 0178 00000000 		.word	withLEDs
 870 017c 00040240 		.word	1073873920
 871              		.cfi_endproc
 872              	.LFE239:
 874              		.section	.text.init_StepperMotor,"ax",%progbits
 875              		.align	1
 876              		.global	init_StepperMotor
 877              		.syntax unified
 878              		.thumb
 879              		.thumb_func
 881              	init_StepperMotor:
 882              	.LVL71:
 883              	.LFB240:
 234:Core/Src/StepperMotor.c **** 
 235:Core/Src/StepperMotor.c **** void init_StepperMotor(short mode,int NoStepsForFullRevolution,short display){
 884              		.loc 1 235 78 is_stmt 1 view -0
 885              		.cfi_startproc
 886              		@ args = 0, pretend = 0, frame = 0
 887              		@ frame_needed = 0, uses_anonymous_args = 0
 888              		.loc 1 235 78 is_stmt 0 view .LVU160
 889 0000 70B5     		push	{r4, r5, r6, lr}
 890              		.cfi_def_cfa_offset 16
 891              		.cfi_offset 4, -16
 892              		.cfi_offset 5, -12
 893              		.cfi_offset 6, -8
 894              		.cfi_offset 14, -4
 895 0002 0446     		mov	r4, r0
 896 0004 1546     		mov	r5, r2
 236:Core/Src/StepperMotor.c ****     fullRevolution = NoStepsForFullRevolution;
 897              		.loc 1 236 5 is_stmt 1 view .LVU161
 898              		.loc 1 236 20 is_stmt 0 view .LVU162
 899 0006 154B     		ldr	r3, .L93
 900 0008 1960     		str	r1, [r3]
 237:Core/Src/StepperMotor.c ****     HAL_TIM_Base_Stop_IT(&htim4);
 901              		.loc 1 237 5 is_stmt 1 view .LVU163
 902 000a 154E     		ldr	r6, .L93+4
 903 000c 3046     		mov	r0, r6
 904              	.LVL72:
 905              		.loc 1 237 5 is_stmt 0 view .LVU164
 906 000e FFF7FEFF 		bl	HAL_TIM_Base_Stop_IT
 907              	.LVL73:
 238:Core/Src/StepperMotor.c ****     HAL_TIM_UnRegisterCallback(&htim4, HAL_TIM_PERIOD_ELAPSED_CB_ID);
 908              		.loc 1 238 5 is_stmt 1 view .LVU165
 909 0012 0E21     		movs	r1, #14
 910 0014 3046     		mov	r0, r6
 911 0016 FFF7FEFF 		bl	HAL_TIM_UnRegisterCallback
 912              	.LVL74:
 239:Core/Src/StepperMotor.c **** 
 240:Core/Src/StepperMotor.c ****     if (display == WITH_LEDS){withLEDs = 1;}
 913              		.loc 1 240 5 view .LVU166
 914              		.loc 1 240 8 is_stmt 0 view .LVU167
 915 001a 15B9     		cbnz	r5, .L85
 916              		.loc 1 240 31 is_stmt 1 discriminator 1 view .LVU168
 917              		.loc 1 240 40 is_stmt 0 discriminator 1 view .LVU169
 918 001c 114B     		ldr	r3, .L93+8
ARM GAS  C:\Temp\cc3V15en.s 			page 23


 919 001e 0122     		movs	r2, #1
 920 0020 1A80     		strh	r2, [r3]	@ movhi
 921              	.L85:
 241:Core/Src/StepperMotor.c ****     
 242:Core/Src/StepperMotor.c ****     if (mode == STEPPER_HALF_MODE){
 922              		.loc 1 242 5 is_stmt 1 view .LVU170
 923              		.loc 1 242 8 is_stmt 0 view .LVU171
 924 0022 032C     		cmp	r4, #3
 925 0024 07D0     		beq	.L90
 926              	.L86:
 243:Core/Src/StepperMotor.c ****         HAL_TIM_RegisterCallback(&htim4, HAL_TIM_PERIOD_ELAPSED_CB_ID, HalfModeSequence);
 244:Core/Src/StepperMotor.c ****     }
 245:Core/Src/StepperMotor.c ****     if (mode == STEPPER_WAVE_MODE){
 927              		.loc 1 245 5 is_stmt 1 view .LVU172
 928              		.loc 1 245 8 is_stmt 0 view .LVU173
 929 0026 022C     		cmp	r4, #2
 930 0028 0BD0     		beq	.L91
 931              	.L87:
 246:Core/Src/StepperMotor.c ****         HAL_TIM_RegisterCallback(&htim4, HAL_TIM_PERIOD_ELAPSED_CB_ID, WaveModeSequence);
 247:Core/Src/StepperMotor.c ****     }
 248:Core/Src/StepperMotor.c ****     if (mode == STEPPER_FULL_MODE){
 932              		.loc 1 248 5 is_stmt 1 view .LVU174
 933              		.loc 1 248 8 is_stmt 0 view .LVU175
 934 002a 012C     		cmp	r4, #1
 935 002c 0FD0     		beq	.L92
 936              	.L88:
 249:Core/Src/StepperMotor.c ****         HAL_TIM_RegisterCallback(&htim4, HAL_TIM_PERIOD_ELAPSED_CB_ID, FullModeSequence);
 250:Core/Src/StepperMotor.c ****     }
 251:Core/Src/StepperMotor.c ****     
 252:Core/Src/StepperMotor.c ****     HAL_TIM_Base_Start_IT(&htim4);
 937              		.loc 1 252 5 is_stmt 1 view .LVU176
 938 002e 0C48     		ldr	r0, .L93+4
 939 0030 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 940              	.LVL75:
 253:Core/Src/StepperMotor.c ****     
 254:Core/Src/StepperMotor.c **** }
 941              		.loc 1 254 1 is_stmt 0 view .LVU177
 942 0034 70BD     		pop	{r4, r5, r6, pc}
 943              	.L90:
 243:Core/Src/StepperMotor.c ****     }
 944              		.loc 1 243 9 is_stmt 1 view .LVU178
 945 0036 0C4A     		ldr	r2, .L93+12
 946 0038 0E21     		movs	r1, #14
 947 003a 0948     		ldr	r0, .L93+4
 948 003c FFF7FEFF 		bl	HAL_TIM_RegisterCallback
 949              	.LVL76:
 950 0040 F1E7     		b	.L86
 951              	.L91:
 246:Core/Src/StepperMotor.c ****     }
 952              		.loc 1 246 9 view .LVU179
 953 0042 0A4A     		ldr	r2, .L93+16
 954 0044 0E21     		movs	r1, #14
 955 0046 0648     		ldr	r0, .L93+4
 956 0048 FFF7FEFF 		bl	HAL_TIM_RegisterCallback
 957              	.LVL77:
 958 004c EDE7     		b	.L87
 959              	.L92:
ARM GAS  C:\Temp\cc3V15en.s 			page 24


 249:Core/Src/StepperMotor.c ****     }
 960              		.loc 1 249 9 view .LVU180
 961 004e 084A     		ldr	r2, .L93+20
 962 0050 0E21     		movs	r1, #14
 963 0052 0348     		ldr	r0, .L93+4
 964 0054 FFF7FEFF 		bl	HAL_TIM_RegisterCallback
 965              	.LVL78:
 966 0058 E9E7     		b	.L88
 967              	.L94:
 968 005a 00BF     		.align	2
 969              	.L93:
 970 005c 00000000 		.word	fullRevolution
 971 0060 00000000 		.word	htim4
 972 0064 00000000 		.word	withLEDs
 973 0068 00000000 		.word	HalfModeSequence
 974 006c 00000000 		.word	WaveModeSequence
 975 0070 00000000 		.word	FullModeSequence
 976              		.cfi_endproc
 977              	.LFE240:
 979              		.global	fullRevolution
 980              		.section	.data.fullRevolution,"aw"
 981              		.align	2
 984              	fullRevolution:
 985 0000 00100000 		.word	4096
 986              		.global	withLEDs
 987              		.section	.bss.withLEDs,"aw",%nobits
 988              		.align	1
 991              	withLEDs:
 992 0000 0000     		.space	2
 993              		.global	tempARR
 994              		.section	.bss.tempARR,"aw",%nobits
 997              	tempARR:
 998 0000 00       		.space	1
 999              		.global	stepperIndex
 1000              		.section	.bss.stepperIndex,"aw",%nobits
 1003              	stepperIndex:
 1004 0000 00       		.space	1
 1005              		.text
 1006              	.Letext0:
 1007              		.file 2 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 1008              		.file 3 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 1009              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1010              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1011              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1012              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1013              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1014              		.file 9 "Core/Inc/StepperMotor.h"
ARM GAS  C:\Temp\cc3V15en.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 StepperMotor.c
  C:\Temp\cc3V15en.s:21     .text.unlockStepper:00000000 $t
  C:\Temp\cc3V15en.s:27     .text.unlockStepper:00000000 unlockStepper
  C:\Temp\cc3V15en.s:67     .text.unlockStepper:00000038 $d
  C:\Temp\cc3V15en.s:72     .text.setStepperSpeed:00000000 $t
  C:\Temp\cc3V15en.s:78     .text.setStepperSpeed:00000000 setStepperSpeed
  C:\Temp\cc3V15en.s:141    .text.setStepperSpeed:00000040 $d
  C:\Temp\cc3V15en.s:984    .data.fullRevolution:00000000 fullRevolution
  C:\Temp\cc3V15en.s:997    .bss.tempARR:00000000 tempARR
  C:\Temp\cc3V15en.s:150    .text.HalfModeSequence:00000000 $t
  C:\Temp\cc3V15en.s:156    .text.HalfModeSequence:00000000 HalfModeSequence
  C:\Temp\cc3V15en.s:176    .text.HalfModeSequence:00000012 $d
  C:\Temp\cc3V15en.s:184    .text.HalfModeSequence:0000001a $t
  C:\Temp\cc3V15en.s:294    .text.HalfModeSequence:000000bc $d
  C:\Temp\cc3V15en.s:302    .text.HalfModeSequence:000000c4 $t
  C:\Temp\cc3V15en.s:393    .text.HalfModeSequence:00000138 $d
  C:\Temp\cc3V15en.s:1003   .bss.stepperIndex:00000000 stepperIndex
  C:\Temp\cc3V15en.s:991    .bss.withLEDs:00000000 withLEDs
  C:\Temp\cc3V15en.s:401    .text.WaveModeSequence:00000000 $t
  C:\Temp\cc3V15en.s:407    .text.WaveModeSequence:00000000 WaveModeSequence
  C:\Temp\cc3V15en.s:427    .text.WaveModeSequence:00000012 $d
  C:\Temp\cc3V15en.s:431    .text.WaveModeSequence:00000016 $t
  C:\Temp\cc3V15en.s:526    .text.WaveModeSequence:000000aa $d
  C:\Temp\cc3V15en.s:530    .text.WaveModeSequence:000000ae $t
  C:\Temp\cc3V15en.s:606    .text.WaveModeSequence:00000118 $d
  C:\Temp\cc3V15en.s:614    .text.FullModeSequence:00000000 $t
  C:\Temp\cc3V15en.s:620    .text.FullModeSequence:00000000 FullModeSequence
  C:\Temp\cc3V15en.s:640    .text.FullModeSequence:00000012 $d
  C:\Temp\cc3V15en.s:644    .text.FullModeSequence:00000016 $t
  C:\Temp\cc3V15en.s:763    .text.FullModeSequence:000000dc $d
  C:\Temp\cc3V15en.s:767    .text.FullModeSequence:000000e0 $t
  C:\Temp\cc3V15en.s:867    .text.FullModeSequence:00000170 $d
  C:\Temp\cc3V15en.s:875    .text.init_StepperMotor:00000000 $t
  C:\Temp\cc3V15en.s:881    .text.init_StepperMotor:00000000 init_StepperMotor
  C:\Temp\cc3V15en.s:970    .text.init_StepperMotor:0000005c $d
  C:\Temp\cc3V15en.s:981    .data.fullRevolution:00000000 $d
  C:\Temp\cc3V15en.s:988    .bss.withLEDs:00000000 $d
  C:\Temp\cc3V15en.s:998    .bss.tempARR:00000000 $d
  C:\Temp\cc3V15en.s:1004   .bss.stepperIndex:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_TIM_Base_Stop_IT
htim4
HAL_TIM_UnRegisterCallback
HAL_TIM_Base_Start_IT
HAL_TIM_RegisterCallback
